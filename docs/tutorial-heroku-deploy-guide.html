<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Heroku Deploy Guide - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Tutorials</li><li class="nav-item"><a href="tutorial-heroku-deploy-guide.html">Heroku Deploy Guide</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="API.html">API</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="API.html#_checkPermissions">_checkPermissions</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="API.html#_processQueue">_processQueue</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="API.html#call">call</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="API.html#scheduleCall">scheduleCall</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="API.html#send">send</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Bot.html">Bot</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Bot.html#start">start</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Button.html">Button</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Context.html">Context</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Context.html#attach">attach</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Context.html#clear">clear</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Context.html#keyboard">keyboard</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Context.html#noAutoSend">noAutoSend</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Context.html#removeKeyboard">removeKeyboard</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Context.html#send">send</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Context.html#setPid">setPid</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Context.html#text">text</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Core.html">Core</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Core.html#_escapeRegex">_escapeRegex</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Core.html#_event">_event</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Core.html#_generateHelpMessage">_generateHelpMessage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Core.html#_isLocked">_isLocked</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Core.html#_registerMessageNewHandler">_registerMessageNewHandler</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Core.html#_tryHandleCommand">_tryHandleCommand</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Core.html#_tryHandlePayload">_tryHandlePayload</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Core.html#_tryHandleRegex">_tryHandleRegex</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Core.html#cmd">cmd</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Core.html#help">help</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Core.html#lock">lock</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Core.html#noEventWarnings">noEventWarnings</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Core.html#on">on</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Core.html#parseRequest">parseRequest</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Core.html#payload">payload</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Core.html#regex">regex</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Keyboard.html">Keyboard</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="module-log-LogMessageBuilder.html">LogMessageBuilder</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-log-LogMessageBuilder.html#_log">_log</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-log-LogMessageBuilder.html#e">e</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-log-LogMessageBuilder.html#from">from</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-log-LogMessageBuilder.html#i">i</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-log-LogMessageBuilder.html#now">now</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-log-LogMessageBuilder.html#r">r</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-log-LogMessageBuilder.html#text">text</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-log-LogMessageBuilder.html#type">type</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-log-LogMessageBuilder.html#w">w</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Stats.html">Stats</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Stats.html#event">event</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Stats.html#getEventCount">getEventCount</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Stats.html#print">print</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Stats.html#sent">sent</a></span></li><li class="nav-heading">Modules</li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-log.html">log</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-log.html#.requireFunction">requireFunction</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-log.html#.requireParam">requireParam</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-log.html#~log">log</a></span></li><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#bot">bot</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#colors">colors</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#vk">vk</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">Heroku Deploy Guide</h1>
    

    <section>

<header>
    
</header>

<article>
    <p>This guide will walk you step-by-step through deploying an example chat bot (which can be found in the <a href="https://github.com/u32i64/vk-chat-bot-example">u32i64/vk-chat-bot-example</a> repository) for a community using <a href="https://heroku.com">Heroku</a>.</p>
<h2>1. Setting up Heroku</h2><ul>
<li>Visit <a href="https://signup.heroku.com/">signup.heroku.com</a> and <strong>create an account</strong> there.</li>
<li>After completing the registration process, visit your <a href="https://dashboard.heroku.com/apps">Heroku Dashboard</a>.</li>
<li>Create a <strong>new app</strong> with any name that is available.</li>
</ul>
<p><img src="https://github.com/u32i64/vk-chat-bot/raw/master/tutorials/images/heroku_guide/new-app.png" alt="New App"></p>
<p><img src="https://github.com/u32i64/vk-chat-bot/raw/master/tutorials/images/heroku_guide/new-app-dialog.png" alt="New App Dialog"></p>
<h2>2. Setting up a VK community</h2><ul>
<li>Visit <a href="https://vk.com/groups">vk.com/groups</a>, click <code>Create community</code>, and fill in the details:</li>
</ul>
<p><img src="https://github.com/u32i64/vk-chat-bot/raw/master/tutorials/images/heroku_guide/new-community.png" alt="Create a community"></p>
<ul>
<li>In your community, go to <code>Manage</code>.</li>
<li>Go to <code>Messages</code> tab, and <strong>enable</strong> community messages.</li>
<li>In <code>Messages</code> -&gt; <code>Bot settings</code> enable <code>Bot abilities</code>, and then enable <code>Add start button</code>.</li>
<li>Go to <code>Settings</code> -&gt; <code>API usage</code>.</li>
<li>Create a <strong>new access token</strong> by clicking <code>Create token</code>. Make sure to check this box:</li>
</ul>
<p><img src="https://github.com/u32i64/vk-chat-bot/raw/master/tutorials/images/heroku_guide/new-token.png" alt="New Token"></p>
<ul>
<li><strong>Save</strong> your new <strong>token</strong> somewhere.</li>
<li>Now switch to the <code>Callback API</code> -&gt; <code>Server settings</code> tab.</li>
<li>Set the API version to <code>5.80</code>.</li>
<li>In the <code>Secret key</code> field, enter <strong>your own</strong> random combination of characters.</li>
<li>Click <code>Save</code> below that field.</li>
<li>Go back to <code>Server settings</code> tab and enter in the <code>URL</code> field: <strong>https://</strong><code>your-app-name</code><strong>.herokuapp.com/</strong> (Replace <code>your-app-name</code> with the name you specified when creating a new Heroku app in <strong>step 1</strong>).</li>
<li><strong>Don't</strong> press <code>Confirm</code> and <strong>don't</strong> close this page yet.</li>
</ul>
<p><img src="https://github.com/u32i64/vk-chat-bot/raw/master/tutorials/images/heroku_guide/callback-api.png" alt="Callback API settings"></p>
<h2>3. Setting up environment variables in Heroku</h2><ul>
<li>Open the <code>Settings</code> tab in your Heroku app, click <code>Reveal Config Vars</code>, and <strong>add variables</strong>, as follows:</li>
</ul>
<table>
<thead>
<tr>
<th>Variable name</th>
<th>Description</th>
<th>Example value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>VK_API_KEY</code></td>
<td>The <strong>token</strong> you saved earlier into somewhere</td>
<td>-</td>
</tr>
<tr>
<td><code>SECRET</code></td>
<td><strong>Secret key</strong></td>
<td><code>r4nd0m_53cr37_k3y</code></td>
</tr>
<tr>
<td><code>GROUP_ID</code></td>
<td><strong>Number</strong> that comes after <code>&quot;group_id&quot;:</code></td>
<td><code>123456789</code></td>
</tr>
<tr>
<td><code>CONFIRMATION_TOKEN</code></td>
<td><strong>String</strong> that comes after <code>String to be returned:</code></td>
<td><code>f1234567</code></td>
</tr>
<tr>
<td><code>CMD_PREFIX</code></td>
<td>Any command prefix</td>
<td><code>/</code></td>
</tr>
</tbody>
</table>
<h2>4. Creating the bot</h2><ul>
<li>Make sure you have <a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git">git</a> and <a href="https://devcenter.heroku.com/articles/heroku-cli#download-and-install">Heroku CLI</a> installed.</li>
<li>Open up terminal (console), and execute the following commands (assuming your project name on Heroku is <code>some-random-chat-bot</code>):</li>
</ul>
<pre class="prettyprint source lang-bash"><code># Clone the example repository
git clone https://github.com/u32i64/vk-chat-bot-example.git

# Go inside the newly-created folder
cd vk-chat-bot-example

# Log in to Heroku
heroku login

# Add the heroku remote
heroku git:remote -a some-random-chat-bot

# Finally, push the bot to Heroku
git push -u heroku master</code></pre><h2>5. Final steps</h2><ul>
<li>Go to your app's <strong>logs</strong> (in Heroku app dashboard -&gt; <code>More</code> -&gt; <code>View logs</code>)</li>
<li>If you see a <strong>log message</strong> like the one below, then the bot has launched successfully:<pre class="prettyprint source lang-console"><code>bot info Server is listening on port 12345</code></pre>If something is not working, feel free to <a href="https://github.com/u32i64/vk-chat-bot/issues">open an issue</a> on GitHub.</li>
<li>Now go back to VK's <strong>Callback API settings</strong>, and press the <code>Confirm</code> button.</li>
<li>Also, in the <code>Event types</code> tab, <strong>check</strong> the following boxes:</li>
</ul>
<p><img src="https://github.com/u32i64/vk-chat-bot/raw/master/tutorials/images/heroku_guide/event-types.png" alt="Event types"></p>
<h2>6. Ready!</h2><ul>
<li>Congratulations, you have just made your own VK chat bot!</li>
</ul>
<h2>7. What's next?</h2><ul>
<li>Take a look at other pages of the documentation - to understand how the example bot works</li>
<li>Change or implement new behavior in your bot - see <a href="Core.html"><code>Core</code></a> docs</li>
<li>If you have any questions, feature requests or bugs - create an <a href="https://github.com/u32i64/vk-chat-bot/issues">issue</a></li>
</ul>
</article>

</section>

</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>